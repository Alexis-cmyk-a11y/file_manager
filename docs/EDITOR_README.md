# ✏️ 在线编辑器使用指南

<div align="center">
  <h3>专业的代码编辑器，强大的在线编辑体验</h3>
  <p>基于 CodeMirror 6 • 支持 50+ 编程语言 • 现代化界面</p>
</div>

## 🎯 概述

文件管理系统集成了专业级在线编辑器，为开发者和内容创作者提供强大的在线编辑体验。无需下载文件到本地，即可享受桌面级代码编辑器的所有功能。

## ⭐ 核心特性

### 💻 编辑功能
- **智能编辑**: 基于 CodeMirror 6 的现代编辑器内核
- **语法高亮**: 支持 50+ 种编程语言和文件格式
- **代码补全**: 智能代码提示和自动补全
- **括号匹配**: 自动高亮匹配的括号和标签
- **代码折叠**: 支持函数、类、代码块的折叠展开
- **多光标编辑**: 同时编辑多个位置 (Ctrl+Click)

### 🔍 搜索替换
- **即时搜索**: `Ctrl+F` 快速搜索，实时高亮结果
- **正则支持**: 完整的正则表达式搜索功能
- **批量替换**: `Ctrl+H` 打开替换面板，支持全局替换
- **大小写敏感**: 可选择是否区分大小写
- **跳转导航**: `Ctrl+G` 快速跳转到指定行号

### 🎨 界面体验
- **多主题支持**: 内置 4 种专业主题 (默认/暗色/Eclipse/Dracula)
- **全屏编辑**: `F11` 进入沉浸式全屏编辑模式
- **响应式设计**: 完美适配桌面、平板、手机各种设备
- **状态指示**: 实时显示光标位置、文件大小、编码信息
- **修改标识**: 清晰的文件修改状态提示

### 🔧 高级功能
- **自动保存**: 智能检测文件变化，防止意外丢失
- **备份机制**: 每次保存自动创建带时间戳的备份文件
- **编码检测**: 自动识别文件编码 (UTF-8/GBK/ASCII)
- **大文件支持**: 优化的性能，支持最大 10MB 文件编辑
- **快捷操作**: 丰富的键盘快捷键，提高编辑效率

## 📁 支持的文件类型

<details>
<summary>💻 编程语言 (20+ 种) - 点击展开</summary>

| 语言 | 扩展名 | 语法特性 |
|------|--------|----------|
| **Python** | `.py` `.pyw` `.pyx` | 智能缩进、代码折叠、PEP8 提示 |
| **JavaScript** | `.js` `.jsx` `.mjs` | ES6+ 语法、JSX 支持 |
| **TypeScript** | `.ts` `.tsx` `.d.ts` | 类型提示、接口高亮 |
| **Java** | `.java` `.class` | 类结构、包导入 |
| **C/C++** | `.c` `.cpp` `.h` `.hpp` | 预处理器、模板语法 |
| **C#** | `.cs` `.csx` | LINQ、属性语法 |
| **Go** | `.go` | 包管理、并发语法 |
| **Rust** | `.rs` | 所有权、生命周期 |
| **PHP** | `.php` `.phtml` | 混合 HTML、命名空间 |
| **Ruby** | `.rb` `.rake` | 块语法、元编程 |
| **Swift** | `.swift` | 协议、扩展 |
| **Kotlin** | `.kt` `.kts` | 协程、数据类 |
| **Scala** | `.scala` | 函数式、面向对象 |

</details>

<details>
<summary>🌐 Web 开发 (10+ 种) - 点击展开</summary>

| 技术 | 扩展名 | 特色功能 |
|------|--------|----------|
| **HTML** | `.html` `.htm` `.xhtml` | 标签补全、属性提示 |
| **CSS** | `.css` | 选择器高亮、属性补全 |
| **SCSS/Sass** | `.scss` `.sass` | 嵌套规则、变量高亮 |
| **Less** | `.less` | 混合、变量、函数 |
| **Vue** | `.vue` | 单文件组件、模板语法 |
| **React** | `.jsx` `.tsx` | JSX 语法、组件结构 |
| **Angular** | `.ng` `.component.ts` | 装饰器、依赖注入 |

</details>

<details>
<summary>⚙️ 配置文件 (15+ 种) - 点击展开</summary>

| 类型 | 扩展名 | 用途 |
|------|--------|------|
| **数据格式** | `.json` `.yaml` `.yml` `.toml` `.xml` | 结构化数据存储 |
| **环境配置** | `.env` `.ini` `.cfg` `.conf` | 应用程序配置 |
| **版本控制** | `.gitignore` `.gitattributes` | Git 配置文件 |
| **容器化** | `Dockerfile` `.dockerignore` | Docker 配置 |
| **包管理** | `package.json` `composer.json` `Cargo.toml` | 依赖管理 |
| **编辑器配置** | `.editorconfig` `.prettierrc` `.eslintrc` | 代码格式化 |
| **CI/CD** | `.gitlab-ci.yml` `.github/workflows/*.yml` | 持续集成 |

</details>

<details>
<summary>📝 文档格式 (8+ 种) - 点击展开</summary>

| 格式 | 扩展名 | 特色 |
|------|--------|------|
| **Markdown** | `.md` `.markdown` | 实时预览、表格编辑 |
| **reStructuredText** | `.rst` | Sphinx 文档 |
| **LaTeX** | `.tex` `.latex` | 数学公式、文档排版 |
| **纯文本** | `.txt` `.text` | 基础文本编辑 |
| **CSV/TSV** | `.csv` `.tsv` | 表格数据编辑 |
| **日志文件** | `.log` `.out` | 语法高亮、搜索 |

</details>

## 🚀 使用指南

### 📝 快速开始

#### 方式一：从文件管理器打开
1. **浏览文件**: 在文件管理器中找到要编辑的文件
2. **点击编辑**: 点击文件操作栏的 ✏️ 编辑按钮
3. **自动跳转**: 系统在新标签页中打开编辑器

#### 方式二：直接访问编辑器
1. **访问编辑器**: 直接访问 `/editor` 页面
2. **选择文件**: 使用文件选择器选择要编辑的文件
3. **开始编辑**: 文件内容自动加载到编辑器

### ✏️ 编辑操作

#### 基础编辑
- **输入文本**: 直接在编辑器中输入或修改内容
- **语法高亮**: 系统根据文件扩展名自动启用语法高亮
- **自动缩进**: 根据代码结构自动调整缩进
- **括号匹配**: 自动高亮匹配的括号、引号等

#### 高级编辑
- **多光标**: `Ctrl+Click` 在多个位置创建光标
- **选择块**: `Alt+拖拽` 进行矩形选择
- **代码折叠**: 点击行号旁的折叠图标
- **智能补全**: 输入时自动显示代码提示

### 💾 保存和备份

#### 保存方式
- **快捷键保存**: `Ctrl+S` 快速保存
- **按钮保存**: 点击工具栏的保存按钮
- **自动提示**: 离开页面时提示保存未保存的更改

#### 备份机制
- **自动备份**: 每次保存都会创建带时间戳的备份文件
- **备份位置**: 备份文件保存在 `.backup/` 目录下
- **备份格式**: `filename.ext.YYYY-MM-DD-HH-mm-ss`

### 🔍 搜索和导航

#### 搜索功能
- **快速搜索**: `Ctrl+F` 打开搜索面板
- **实时高亮**: 搜索结果实时高亮显示
- **大小写**: 切换是否区分大小写
- **正则表达式**: 启用正则表达式搜索模式

#### 替换功能
- **打开替换**: `Ctrl+H` 打开搜索替换面板
- **单个替换**: 逐个确认替换匹配项
- **全部替换**: 一键替换所有匹配项
- **预览替换**: 替换前预览更改效果

#### 导航功能
- **跳转行号**: `Ctrl+G` 快速跳转到指定行
- **文档大纲**: 查看文档结构和函数列表
- **书签功能**: 标记重要位置便于快速跳转

### 🎨 界面定制

#### 主题切换
- **主题选择**: 在编辑器头部选择喜欢的主题
- **内置主题**: 默认、暗色、Eclipse、Dracula
- **自动适配**: 根据系统主题自动切换
- **实时预览**: 切换主题时立即生效

#### 显示设置
- **行号显示**: 切换行号的显示和隐藏
- **代码折叠**: 启用或禁用代码折叠功能
- **换行显示**: 切换长行的自动换行
- **空白字符**: 显示或隐藏空格、制表符

## ⌨️ 快捷键大全

<details>
<summary>📝 基础编辑 - 点击展开</summary>

| 快捷键 | Windows/Linux | macOS | 功能描述 |
|--------|---------------|-------|----------|
| 保存文件 | `Ctrl+S` | `Cmd+S` | 保存当前文件 |
| 撤销操作 | `Ctrl+Z` | `Cmd+Z` | 撤销上一个操作 |
| 重做操作 | `Ctrl+Y` | `Cmd+Shift+Z` | 重做被撤销的操作 |
| 全选文本 | `Ctrl+A` | `Cmd+A` | 选择全部内容 |
| 复制文本 | `Ctrl+C` | `Cmd+C` | 复制选中内容 |
| 剪切文本 | `Ctrl+X` | `Cmd+X` | 剪切选中内容 |
| 粘贴文本 | `Ctrl+V` | `Cmd+V` | 粘贴剪贴板内容 |

</details>

<details>
<summary>🔍 搜索导航 - 点击展开</summary>

| 快捷键 | Windows/Linux | macOS | 功能描述 |
|--------|---------------|-------|----------|
| 打开搜索 | `Ctrl+F` | `Cmd+F` | 打开搜索面板 |
| 搜索替换 | `Ctrl+H` | `Cmd+H` | 打开搜索替换面板 |
| 跳转行号 | `Ctrl+G` | `Cmd+G` | 跳转到指定行号 |
| 查找下一个 | `F3` | `Cmd+G` | 查找下一个匹配项 |
| 查找上一个 | `Shift+F3` | `Cmd+Shift+G` | 查找上一个匹配项 |
| 关闭搜索 | `Escape` | `Escape` | 关闭搜索面板 |

</details>

<details>
<summary>✏️ 高级编辑 - 点击展开</summary>

| 快捷键 | Windows/Linux | macOS | 功能描述 |
|--------|---------------|-------|----------|
| 多光标编辑 | `Ctrl+Click` | `Cmd+Click` | 在点击位置创建光标 |
| 选择单词 | `Ctrl+D` | `Cmd+D` | 选择当前单词 |
| 块选择 | `Alt+拖拽` | `Option+拖拽` | 矩形选择文本 |
| 整行选择 | `Ctrl+L` | `Cmd+L` | 选择整行 |
| 向上复制行 | `Shift+Alt+↑` | `Shift+Option+↑` | 向上复制当前行 |
| 向下复制行 | `Shift+Alt+↓` | `Shift+Option+↓` | 向下复制当前行 |
| 删除行 | `Ctrl+Shift+K` | `Cmd+Shift+K` | 删除当前行 |

</details>

<details>
<summary>🎛️ 界面控制 - 点击展开</summary>

| 快捷键 | Windows/Linux | macOS | 功能描述 |
|--------|---------------|-------|----------|
| 全屏模式 | `F11` | `F11` | 切换全屏编辑模式 |
| 增大字体 | `Ctrl+=` | `Cmd+=` | 增大编辑器字体 |
| 减小字体 | `Ctrl+-` | `Cmd+-` | 减小编辑器字体 |
| 重置字体 | `Ctrl+0` | `Cmd+0` | 重置字体大小 |
| 切换主题 | `Ctrl+K Ctrl+T` | `Cmd+K Cmd+T` | 打开主题选择器 |

</details>

## 技术实现

### 前端技术
- **CodeMirror 6**: 核心编辑器组件
- **现代CSS**: 响应式设计和主题系统
- **原生JavaScript**: 无框架依赖，性能优异

### 后端技术
- **Flask**: Web框架
- **Python**: 文件处理和服务逻辑
- **RESTful API**: 标准化的接口设计

### 安全特性
- **路径验证**: 防止目录遍历攻击
- **文件大小限制**: 最大10MB编辑限制
- **编码检测**: 自动检测文件编码
- **备份机制**: 保存时自动创建备份

## 配置选项

### 编辑器设置
- 行号显示
- 代码折叠
- 自动缩进
- 括号匹配
- 标签自动闭合

### 文件限制
- 最大文件大小: 10MB
- 支持编码: UTF-8, GBK
- 文件类型检查
- 路径安全检查

## 故障排除

### 常见问题

#### 1. 文件无法打开
- 检查文件类型是否支持
- 确认文件大小是否超过限制
- 验证文件路径是否正确

#### 2. 编码问题
- 系统会自动检测文件编码
- 支持UTF-8和GBK编码
- 如遇编码问题，请检查源文件

#### 3. 保存失败
- 检查文件权限
- 确认磁盘空间充足
- 查看错误日志

#### 4. 语法高亮异常
- 确认文件扩展名正确
- 检查CodeMirror模式支持
- 尝试刷新页面

### 性能优化
- 大文件建议分段编辑
- 定期清理浏览器缓存
- 关闭不必要的浏览器标签页

## 更新日志

### v1.0.0 (当前版本)
- ✅ 基础编辑器功能
- ✅ 语法高亮支持
- ✅ 搜索替换功能
- ✅ 多主题支持
- ✅ 键盘快捷键
- ✅ 文件备份机制

### 计划功能
- 🔄 协同编辑
- 🔄 代码片段
- 🔄 智能补全
- 🔄 代码格式化
- 🔄 版本对比

## 技术支持

如遇到问题或需要帮助，请：
1. 查看本文档的故障排除部分
2. 检查浏览器控制台错误信息
3. 联系系统管理员

## 📚 相关文档

- [📖 项目主页](../README.md) - 项目概述和快速开始
- [🚀 启动指南](STARTUP_GUIDE.md) - 系统启动和配置
- [📡 API 文档](API_REFERENCE.md) - 编辑器 API 接口
- [🔧 故障排除](TROUBLESHOOTING.md) - 常见问题和解决方案

## 🤝 反馈和支持

我们非常重视用户体验，如果您在使用编辑器时遇到任何问题或有改进建议：

### 🐛 报告问题
- [提交 Bug 报告](../../issues/new?template=bug_report.md)
- [功能需求建议](../../issues/new?template=feature_request.md)
- [文档改进建议](../../issues/new?template=documentation.md)

### 💡 参与讨论
- [GitHub Discussions](../../discussions) - 参与社区讨论
- [功能投票](../../discussions/categories/polls) - 为新功能投票

---

<div align="center">
  <p><strong>✏️ 享受编码的乐趣！</strong></p>
  <p>如果编辑器对您有帮助，请给项目一个 ⭐ Star 支持我们</p>
  <p><em>持续改进中 • 最后更新: 2024年</em></p>
</div>
