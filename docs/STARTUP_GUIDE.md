# 🚀 文件管理系统启动指南

## 📋 概述

本指南详细说明如何启动文件管理系统，特别是新集成的在线编辑功能。

## 🎯 快速启动

### 1. 环境准备

确保已安装所需依赖：
```bash
pip install -r requirements.txt
```

### 2. 启动系统

在项目根目录执行：
```bash
python main.py
```

### 3. 启动输出示例

启动成功后，您将看到以下信息：

```
启动文件管理系统...
访问地址: http://127.0.0.1:5000
调试模式: 关闭
按 Ctrl+C 停止服务

🚀 功能模块启动状态:
   ✅ 文件管理 - 浏览、上传、下载、重命名
   ✅ 在线编辑 - CodeMirror编辑器，支持50+种编程语言
   ✅ 系统监控 - 磁盘使用、内存状态
   ✅ 安全防护 - 路径验证、文件类型检查

💡 在线编辑器使用:
   编辑器页面: http://127.0.0.1:5000/editor
   支持文件: .py, .js, .html, .css, .md, .json 等
   快捷键: Ctrl+S(保存), Ctrl+F(搜索), Ctrl+Z(撤销)
```

## 🌐 访问地址

- **文件管理器主页**: http://127.0.0.1:5000/
- **在线编辑器**: http://127.0.0.1:5000/editor
- **API接口**: http://127.0.0.1:5000/api/

## 🔧 功能验证

### 测试在线编辑功能

运行测试脚本验证功能：
```bash
python test_startup.py
```

### 手动验证步骤

1. **访问主页**: 打开 http://127.0.0.1:5000/
2. **查看文件列表**: 确认文件管理功能正常
3. **使用文件名点击功能**:
   - **可编辑文件**（蓝色，带✏️图标）：直接点击文件名进入编辑器
   - **文件夹**：点击进入文件夹
   - **不可编辑文件**：点击下载文件
4. **进入编辑器**: 自动跳转到编辑器页面
5. **测试编辑功能**: 尝试编辑、保存文件

## ⚠️ 常见问题

### 1. 端口被占用
```
错误: Address already in use
解决: 修改 core/config.py 中的端口配置
```

### 2. 依赖缺失
```
错误: ModuleNotFoundError
解决: pip install -r requirements.txt
```

### 3. 权限问题
```
错误: Permission denied
解决: 检查文件权限，确保可读写
```

## 🔒 安全配置

### 生产环境部署

1. **修改配置**: 编辑 `core/config.py`
2. **设置环境变量**: 使用 `.env` 文件
3. **启用HTTPS**: 配置SSL证书
4. **访问控制**: 设置IP白名单

### 环境变量配置

创建 `.env` 文件：
```env
SERVER_HOST=0.0.0.0
SERVER_PORT=5000
DEBUG_MODE=False
UPLOAD_FOLDER=uploads
MAX_CONTENT_LENGTH=10485760
```

## 📱 移动端支持

- 响应式设计，支持手机和平板
- 触摸友好的编辑器界面
- 移动端优化的文件操作

## 🚀 性能优化

### 启动优化

- 延迟加载非核心模块
- 异步初始化服务
- 智能缓存策略

### 运行时优化

- 文件内容分页加载
- 搜索索引优化
- 内存使用监控

## 📊 监控和日志

### 系统状态

- 实时磁盘使用情况
- 内存和CPU监控
- 网络连接状态

### 日志记录

- 访问日志记录
- 错误日志追踪
- 性能指标统计

## 🔄 更新和维护

### 自动更新

```bash
git pull origin main
pip install -r requirements.txt
```

### 服务重启

```bash
# 停止服务
Ctrl+C

# 重新启动
python main.py
```

## 📞 技术支持

如遇到问题，请：

1. 查看错误日志
2. 检查配置文件
3. 验证依赖版本
4. 提交Issue报告

---

**版本**: 1.0.0  
**更新日期**: 2024年  
**维护者**: 文件管理系统团队
